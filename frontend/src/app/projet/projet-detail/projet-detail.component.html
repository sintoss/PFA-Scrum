<!--begin::Container-->
<div class="container-fluid">
  <!--begin::Card-->
  <div class="card card-custom gutter-b">
    <div class="card-body">
      <div class="d-flex">
        <!--begin: Pic-->
        <div class="flex-shrink-0 mr-7 mt-lg-0 mt-3">
          <div class="symbol symbol-50 symbol-lg-120">
            <img alt="Pic" src="assets/media/project-logos/3.png"/>
          </div>
          <div class="symbol symbol-50 symbol-lg-120 symbol-primary d-none">
            <span class="font-size-h3 symbol-label font-weight-boldest"
            >JM</span
            >
          </div>
        </div>
        <!--end: Pic-->
        <!--begin: Info-->
        <div class="flex-grow-1">
          <!--begin: Title-->
          <div
            class="d-flex align-items-center justify-content-between flex-wrap"
          >
            <div class="mr-3">
              <!--begin::Name-->
              <strong
                class="d-flex align-items-center text-dark text-hover-primary font-size-h5 font-weight-bold mr-3"
                href="#"
              >{{ projet.nom }}
                <i class="flaticon2-correct text-success icon-md ml-2"></i
                ></strong>
              <!--end::Name-->
              <!--begin::Contacts-->
              <div class="d-flex flex-wrap my-2">
                <a
                  class="text-muted text-hover-primary font-weight-bold mr-lg-8 mr-5 mb-lg-0 mb-2"
                  href="#"
                >
                  <span class="svg-icon svg-icon-md svg-icon-gray-500 mr-1">
                    <!--begin::Svg Icon | path:assets/media/svg/icons/Communication/Mail-notification.svg-->
                    <svg
                      height="24px"
                      version="1.1"
                      viewBox="0 0 24 24"
                      width="24px"
                      xmlns="http://www.w3.org/2000/svg"
                      xmlns:xlink="http://www.w3.org/1999/xlink"
                    >
                      <g
                        fill="none"
                        fill-rule="evenodd"
                        stroke="none"
                        stroke-width="1"
                      >
                        <rect height="24" width="24" x="0" y="0"/>
                        <path
                          d="M21,12.0829584 C20.6747915,12.0283988 20.3407122,12 20,12 C16.6862915,12 14,14.6862915 14,18 C14,18.3407122 14.0283988,18.6747915 14.0829584,19 L5,19 C3.8954305,19 3,18.1045695 3,17 L3,8 C3,6.8954305 3.8954305,6 5,6 L19,6 C20.1045695,6 21,6.8954305 21,8 L21,12.0829584 Z M18.1444251,7.83964668 L12,11.1481833 L5.85557487,7.83964668 C5.4908718,7.6432681 5.03602525,7.77972206 4.83964668,8.14442513 C4.6432681,8.5091282 4.77972206,8.96397475 5.14442513,9.16035332 L11.6444251,12.6603533 C11.8664074,12.7798822 12.1335926,12.7798822 12.3555749,12.6603533 L18.8555749,9.16035332 C19.2202779,8.96397475 19.3567319,8.5091282 19.1603533,8.14442513 C18.9639747,7.77972206 18.5091282,7.6432681 18.1444251,7.83964668 Z"
                          fill="#000000"
                        />
                        <circle
                          cx="19.5"
                          cy="17.5"
                          fill="#000000"
                          opacity="0.3"
                          r="2.5"
                        />
                      </g>
                    </svg>
                    <!--end::Svg Icon-->
                  </span>{{projet?.scrumMaster?.email}}</a>
                <a
                  class="text-muted text-hover-primary font-weight-bold mr-lg-8 mr-5 mb-lg-0 mb-2"
                  href="#"
                >
                  <span class="svg-icon svg-icon-md svg-icon-gray-500 mr-1">
                    <!--begin::Svg Icon | path:assets/media/svg/icons/General/Lock.svg-->
                    <svg
                      height="24px"
                      version="1.1"
                      viewBox="0 0 24 24"
                      width="24px"
                      xmlns="http://www.w3.org/2000/svg"
                      xmlns:xlink="http://www.w3.org/1999/xlink"
                    >
                      <g
                        fill="none"
                        fill-rule="evenodd"
                        stroke="none"
                        stroke-width="1"
                      >
                        <mask fill="white">
                          <use xlink:href="#path-1"/>
                        </mask>
                        <g/>
                        <path
                          d="M7,10 L7,8 C7,5.23857625 9.23857625,3 12,3 C14.7614237,3 17,5.23857625 17,8 L17,10 L18,10 C19.1045695,10 20,10.8954305 20,12 L20,18 C20,19.1045695 19.1045695,20 18,20 L6,20 C4.8954305,20 4,19.1045695 4,18 L4,12 C4,10.8954305 4.8954305,10 6,10 L7,10 Z M12,5 C10.3431458,5 9,6.34314575 9,8 L9,10 L15,10 L15,8 C15,6.34314575 13.6568542,5 12,5 Z"
                          fill="#000000"
                        />
                      </g>
                    </svg>
                    <!--end::Svg Icon--> </span
                  >{{projet?.scrumMaster?.discriminator}}</a
                >
              </div>
              <!--end::Contacts-->
            </div>
          </div>
          <!--end: Title-->
          <!--begin: Content-->
          <div
            class="d-flex align-items-center flex-wrap justify-content-between"
          >
            <div class="d-flex flex-wrap align-items-center py-2">
              <div class="d-flex align-items-center mr-10">
                <div class="mr-6">
                  <div class="font-weight-bold mb-2">Start Date</div>
                  <span
                    class="btn btn-sm btn-text btn-light-primary text-uppercase font-weight-bold"
                  >{{ projet.dateDebut | date }}</span
                  >
                </div>
                <div class="">
                  <div class="font-weight-bold mb-2">Due Date</div>
                  <span
                    class="btn btn-sm btn-text btn-light-danger text-uppercase font-weight-bold"
                  >{{ projet.datePrevueFin | date }}</span
                  >
                </div>
              </div>
              <div
                class="flex-grow-1 flex-shrink-0 w-150px w-xl-300px mt-4 mt-sm-0"
              >
                <span class="font-weight-bold">Progress</span>
                <div class="progress progress-xs mt-2 mb-2">
                  <div
                    aria-valuemax="100"
                    aria-valuemin="0"
                    aria-valuenow="50"
                    class="progress-bar bg-success"
                    role="progressbar"
                    style="width: 63%"
                  ></div>
                </div>
                <span class="font-weight-bolder text-dark">78%</span>
              </div>
            </div>
          </div>
          <!--end: Content-->
        </div>
        <!--end: Info-->
      </div>
      <div class="separator separator-solid my-7"></div>
      <!--begin: Items-->
      <div class="d-flex align-items-center flex-wrap">
        <!--begin: Item-->
        <div class="d-flex align-items-center flex-lg-fill mr-5 my-1">
          <span class="mr-4">
            <i
              class="flaticon-piggy-bank icon-2x text-muted font-weight-bold"
            ></i>
          </span>
          <div class="d-flex flex-column text-dark-75">
            <span class="font-weight-bolder font-size-sm">Earnings</span>
            <span class="font-weight-bolder font-size-h5">
              <span class="text-dark-50 font-weight-bold">$</span>249,500</span
            >
          </div>
        </div>
        <!--end: Item-->
        <!--begin: Item-->
        <div class="d-flex align-items-center flex-lg-fill mr-5 my-1">
          <span class="mr-4">
            <i
              class="flaticon-confetti icon-2x text-muted font-weight-bold"
            ></i>
          </span>
          <div class="d-flex flex-column text-dark-75">
            <span class="font-weight-bolder font-size-sm">Expenses</span>
            <span class="font-weight-bolder font-size-h5">
              <span class="text-dark-50 font-weight-bold">$</span>164,700</span
            >
          </div>
        </div>
        <!--end: Item-->
        <!--begin: Item-->
        <div class="d-flex align-items-center flex-lg-fill mr-5 my-1">
          <span class="mr-4">
            <i
              class="flaticon-pie-chart icon-2x text-muted font-weight-bold"
            ></i>
          </span>
          <div class="d-flex flex-column text-dark-75">
            <span class="font-weight-bolder font-size-sm">Net</span>
            <span class="font-weight-bolder font-size-h5">
              <span class="text-dark-50 font-weight-bold">$</span>782,300</span
            >
          </div>
        </div>
        <!--end: Item-->
        <!--begin: Item-->
        <div class="d-flex align-items-center flex-lg-fill mr-5 my-1">
          <span class="mr-4">
            <i class="flaticon-file-2 icon-2x text-muted font-weight-bold"></i>
          </span>
          <div class="d-flex flex-column flex-lg-fill">
            <span class="text-dark-75 font-weight-bolder font-size-sm">
              {{projet.backlog.stories.length}} UserStories
            </span>
          </div>
        </div>
        <!--end: Item-->
        <!--begin: Item-->
        <div class="d-flex align-items-center flex-lg-fill my-1">
          <span class="mr-4">
            <i class="flaticon-network icon-2x text-muted font-weight-bold"></i>
          </span>
          <div class="symbol-group symbol-hover">
            <div *ngFor="let user of projet.utilisateurProjets"
                 class="symbol symbol-30 symbol-circle"
            >
              <img alt="{{user.utilisateur.userName}}" data-toggle="tooltip"
                   src="https://localhost:44349/{{user.utilisateur.pathImage}}"
                   title="{{user.utilisateur.userName}}"/>
            </div>
          </div>
        </div>
        <!--end: Item-->
      </div>
      <!--begin: Items-->
    </div>
  </div>
  <!--end::Card-->
  <!--begin::Row-->
  <div class="row">
    <div class="col-lg-6">
      <!--begin::Advance Table Widget 3-->
      <div class="card card-custom card-stretch gutter-b">
        <!--begin::Header-->
        <div class="card-header border-0 py-5">
          <h3 class="card-title align-items-start flex-column">
            <span class="card-label font-weight-bolder text-dark"
            >Membres de l'Equipe</span
            >
          </h3>
          <div *ngIf="jwtService.hasRole('ScrumMaster')" class="card-toolbar">
            <button (click)="getUsers()" class="btn btn-primary mr-2" data-target="#membremodal" data-toggle="modal"
                    type="button">
              <span class="svg-icon svg-icon-md svg-icon-white">
                <!--begin::Svg Icon | path:assets/media/svg/icons/Communication/Add-user.svg-->
                <svg
                  height="24px"
                  version="1.1"
                  viewBox="0 0 24 24"
                  width="24px"
                  xmlns="http://www.w3.org/2000/svg"
                  xmlns:xlink="http://www.w3.org/1999/xlink"
                >
                  <g
                    fill="none"
                    fill-rule="evenodd"
                    stroke="none"
                    stroke-width="1"
                  >
                    <polygon points="0 0 24 0 24 24 0 24"/>
                    <path
                      d="M18,8 L16,8 C15.4477153,8 15,7.55228475 15,7 C15,6.44771525 15.4477153,6 16,6 L18,6 L18,4 C18,3.44771525 18.4477153,3 19,3 C19.5522847,3 20,3.44771525 20,4 L20,6 L22,6 C22.5522847,6 23,6.44771525 23,7 C23,7.55228475 22.5522847,8 22,8 L20,8 L20,10 C20,10.5522847 19.5522847,11 19,11 C18.4477153,11 18,10.5522847 18,10 L18,8 Z M9,11 C6.790861,11 5,9.209139 5,7 C5,4.790861 6.790861,3 9,3 C11.209139,3 13,4.790861 13,7 C13,9.209139 11.209139,11 9,11 Z"
                      fill="#000000"
                      fill-rule="nonzero"
                      opacity="0.3"
                    />
                    <path
                      d="M0.00065168429,20.1992055 C0.388258525,15.4265159 4.26191235,13 8.98334134,13 C13.7712164,13 17.7048837,15.2931929 17.9979143,20.2 C18.0095879,20.3954741 17.9979143,21 17.2466999,21 C13.541124,21 8.03472472,21 0.727502227,21 C0.476712155,21 -0.0204617505,20.45918 0.00065168429,20.1992055 Z"
                      fill="#000000"
                      fill-rule="nonzero"
                    />
                  </g>
                </svg>
                <!--end::Svg Icon--> </span
              >Ajouter Nouveau Membre
            </button>
          </div>
        </div>
        <!--end::Header-->
        <!-- begin membre modal -->
        <!-- Edit Modal -->
        <div aria-hidden="true" aria-labelledby="membremodallabel" class="modal fade" id="membremodal" role="dialog"
             tabindex="-1">
          <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="membremodallabel">Ajouter Des Membre a l'Equipe</h5>
                <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="form-outline mb-4">
                  <input (input)="getResult($event)" class="form-control" id="datatable-search-input"
                         placeholder="chercher un membre par nom d'utilisateur..." type="search">
                </div>
                <form (submit)="addMembres()" class="form text-center">
                  <h4 class="text-left my-5">Choisir les membre de l'equipe pour ce projet :</h4>
                  <div class="membredata" id="datatable">
                    <article *ngFor="let user of usersInput">
                      <input (change)="setUsersProjets(user.id, $event)" name="membres[]" type="checkbox"/>
                      <div class="membre-content p-2">
                        <div class="membre-img">
                          <img alt="{{user.userName}}" class="w-100 h-100 rounded-circle"
                               src="https://localhost:44349/{{user.pathImage}}">
                        </div>
                        <div class="membre-detail text-left">
                          <h5 class="mb-0">{{user.userName}}</h5>
                          <span>{{user.discriminator}}</span>
                        </div>
                      </div>
                    </article>
                  </div>
                  <button class="btn btn-primary" type="submit">Ajouter</button>
                </form>

              </div>
            </div>
          </div>
        </div>
        <!-- end membre modal -->
        <!--begin::Body-->
        <div class="card-body pt-0 pb-3">
          <!--begin::Table-->
          <div class="table-responsive">
            <table
              class="table table-head-custom table-head-bg table-borderless table-vertical-center"
            >
              <thead>
              <tr class="text-uppercase">
                <th class="pl-7" style="min-width: 150px">
                  <span class="text-dark-75">Nom d'Utilisateur</span>
                </th>
                <th style="min-width: 200px">Email</th>
                <th style="min-width: 100px">Role</th>
                <th style="min-width: 50px"></th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let user of projet.utilisateurProjets">
                <ng-container *ngIf="user.utilisateur.id !== jwtService.getUserId()">
                  <td class="pl-0 py-8">
                    <div class="d-flex align-items-center">
                      <div class="symbol symbol-50 flex-shrink-0 mr-4">
                        <img class="symbol-label" src="https://localhost:44349/{{user.utilisateur.pathImage}}">
                      </div>
                      <div>
                        <a class="text-dark-75 font-weight-bolder text-hover-primary mb-1 font-size-lg" href="#">
                          {{user.utilisateur.userName}}
                        </a>
                      </div>
                    </div>
                  </td>
                  <td>
                    <strong class="text-dark-75 font-weight-bolder d-block font-size-lg">
                      {{user.utilisateur.email}}
                    </strong>
                  </td>
                  <td>
                      <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                        {{user.utilisateur.discriminator}}
                      </span>
                  </td>
                  <td class="text-center pr-0">
                    <button (click)="supprimerMembre(user.utilisateurId)"
                            *ngIf="jwtService.hasRole('ScrumMaster')"
                            class="btn btn-icon btn-light-danger btn-hover-danger btn-sm">
                        <span class="svg-icon svg-icon-danger svg-icon-2x"
                        ><!--begin::Svg Icon | path:C:\wamp64\www\keenthemes\legacy\metronic\theme\html\demo2\dist/../src/media/svg/icons\Files\Deleted-file.svg--><svg
                          height="24px"
                          version="1.1"
                          viewBox="0 0 24 24"
                          width="24px"
                          xmlns="http://www.w3.org/2000/svg"
                          xmlns:xlink="http://www.w3.org/1999/xlink"
                        >
                            <g
                              fill="none"
                              fill-rule="evenodd"
                              stroke="none"
                              stroke-width="1"
                            >
                              <polygon points="0 0 24 0 24 24 0 24"/>
                              <path
                                d="M5.85714286,2 L13.7364114,2 C14.0910962,2 14.4343066,2.12568431 14.7051108,2.35473959 L19.4686994,6.3839416 C19.8056532,6.66894833 20,7.08787823 20,7.52920201 L20,20.0833333 C20,21.8738751 19.9795521,22 18.1428571,22 L5.85714286,22 C4.02044787,22 4,21.8738751 4,20.0833333 L4,3.91666667 C4,2.12612489 4.02044787,2 5.85714286,2 Z"
                                fill="#000000"
                                fill-rule="nonzero"
                                opacity="0.3"
                              />
                              <path
                                d="M10.5857864,13 L9.17157288,11.5857864 C8.78104858,11.1952621 8.78104858,10.5620972 9.17157288,10.1715729 C9.56209717,9.78104858 10.1952621,9.78104858 10.5857864,10.1715729 L12,11.5857864 L13.4142136,10.1715729 C13.8047379,9.78104858 14.4379028,9.78104858 14.8284271,10.1715729 C15.2189514,10.5620972 15.2189514,11.1952621 14.8284271,11.5857864 L13.4142136,13 L14.8284271,14.4142136 C15.2189514,14.8047379 15.2189514,15.4379028 14.8284271,15.8284271 C14.4379028,16.2189514 13.8047379,16.2189514 13.4142136,15.8284271 L12,14.4142136 L10.5857864,15.8284271 C10.1952621,16.2189514 9.56209717,16.2189514 9.17157288,15.8284271 C8.78104858,15.4379028 8.78104858,14.8047379 9.17157288,14.4142136 L10.5857864,13 Z"
                                fill="#000000"/>
                            </g>
                          </svg>
                          <!--end::Svg Icon-->
                        </span>
                    </button>
                  </td>
                </ng-container>
              </tr>
              </tbody>
            </table>
          </div>
          <!--end::Table-->
        </div>
        <!--end::Body-->
      </div>
      <!--end::Advance Table Widget 3-->
    </div>
    <div class="col-lg-6">
      <!--begin::Card-->
      <div class="card card-custom gutter-b">
        <div class="card-header">
          <div class="card-title">
            <h3 class="card-label">Burndown Chart</h3>
          </div>
        </div>
        <div class="card-body">
          <!--begin::Chart-->
          <div id="chart_2">
            <app-bdchart></app-bdchart>
          </div>
          <!--end::Chart-->
        </div>
      </div>
      <!--end::Card-->
    </div>
  </div>
  <!--end::Row-->
  <!--begin::Row-->
  <div class="row">
    <div class="col-lg-6">
      <app-backlog-item></app-backlog-item>
    </div>
    <div class="col-lg-6">
      <app-tache-list></app-tache-list>
    </div>
  </div>
  <!--end::Row-->
  <!--begin::Row-->
  <div class="row">
    <div class="col-lg-6">
      <app-sprint></app-sprint>
    </div>
    <div class="col-lg-6">
      <app-sprint-detail></app-sprint-detail>
    </div>
  </div>
  <!--end::Row-->
</div>
<!--end::Container-->
